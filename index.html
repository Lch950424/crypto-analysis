<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ETH 100x å°ˆæ¥­æˆ°é¬¥çµ‚ç«¯</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.12.1/polyfill.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-gray-200 p-2 font-mono flex flex-col h-screen overflow-hidden">

    <div class="grid grid-cols-1 md:grid-cols-4 gap-2 mb-2">
        <div class="bg-zinc-900 p-3 rounded border-l-4 border-blue-500 shadow-lg">
            <div class="text-[10px] text-zinc-500 font-bold uppercase">ETH/USDT å³æ™‚åƒ¹æ ¼</div>
            <div id="eth-price" class="text-3xl font-bold text-blue-400 font-mono">é€£ç·šä¸­...</div>
        </div>
        
        <div class="bg-zinc-900 p-3 rounded border border-zinc-800 text-center">
            <div class="flex justify-between text-[10px] mb-1 font-bold text-zinc-400">
                <span>çœ‹å¤š</span>
                <span id="ls-ratio">50/50</span>
                <span>çœ‹ç©º</span>
            </div>
            <div class="w-full bg-red-900/50 h-2 rounded-full overflow-hidden flex">
                <div id="long-bar" class="bg-green-500 h-full transition-all duration-1000" style="width: 50%"></div>
            </div>
            <div id="sentiment-val" class="text-[9px] text-zinc-600 mt-1 font-bold italic">24H æƒ…ç·’åˆ†æä¸­...</div>
        </div>

        <div class="bg-zinc-900 p-3 rounded border border-zinc-800 md:col-span-2 flex flex-col justify-center">
            <div class="flex gap-4 justify-around text-center">
                <div>
                    <div class="text-[9px] text-zinc-500 font-bold uppercase">24H æ³¢å‹•ç‡</div>
                    <div id="eth-atr" class="text-sm font-bold text-blue-300">2.15%</div>
                </div>
                <div>
                    <div class="text-[9px] text-zinc-500 font-bold uppercase">è³‡é‡‘è²»ç‡</div>
                    <div id="eth-funding" class="text-sm font-bold text-yellow-500">0.0100%</div>
                </div>
                <div class="hidden sm:block">
                    <div class="text-[9px] text-zinc-500 font-bold uppercase">é€£ç·šç‹€æ…‹</div>
                    <div id="sys-status" class="text-[9px] text-green-500 font-bold animate-pulse">å¾…æ©Ÿ</div>
                </div>
            </div>
        </div>
    </div>

    <div class="flex-1 grid grid-cols-1 lg:grid-cols-3 gap-2 min-h-0 mb-2">
        <div class="lg:col-span-2 bg-zinc-900 rounded overflow-hidden border border-zinc-800">
            <div id="tradingview_eth" class="h-full"></div>
        </div>

        <div class="flex flex-col gap-2 overflow-hidden">
            <div class="bg-zinc-900 p-3 rounded border border-zinc-800 flex-1 flex flex-col overflow-hidden">
                <h3 class="text-[10px] font-bold text-red-500 mb-2 uppercase flex items-center gap-1">
                    <span class="w-1.5 h-1.5 bg-red-500 rounded-full animate-ping"></span> å¯¦æ™‚çˆ†å€‰æ•¸æ“š (å…¨ç¶²)
                </h3>
                <div id="liq-logs" class="text-[9px] font-mono text-zinc-500 space-y-1 overflow-y-auto scrollbar-hide">
                    æ­£åœ¨ç›£æ§ ETH æ¸…ç®—å–®...
                </div>
            </div>
            <div class="bg-zinc-900 p-3 rounded border border-zinc-800 h-32">
                <h3 class="text-[10px] font-bold text-green-500 mb-2 uppercase">ç›¤å£ä¸»è¦å£“åŠ›/æ”¯æ’</h3>
                <div class="space-y-2">
                    <div class="flex justify-between text-[10px]"><span class="text-red-400">è³£ç›¤ç‰†</span><span id="sell-wall">--</span></div>
                    <div class="flex justify-between text-[10px]"><span class="text-green-400">è²·ç›¤ç‰†</span><span id="buy-wall">--</span></div>
                </div>
            </div>
        </div>
    </div>

    <div class="bg-blue-950/20 border border-blue-500/40 p-3 rounded flex flex-col md:flex-row gap-4 items-center justify-between shadow-[0_0_20px_rgba(59,130,246,0.15)]">
        <div class="flex-1 text-center md:text-left">
            <h2 class="text-xs font-bold text-blue-400 mb-1 flex items-center gap-2">
                <span class="px-1.5 py-0.5 bg-blue-500 text-black rounded text-[9px] font-black">AI å»ºè­°</span>
                ğŸ¤– ETH 100x SMC ç­–ç•¥ç³»çµ±
            </h2>
            <p id="strategy-advice" class="text-[11px] text-blue-100 italic">æ­£åœ¨æƒæ SMC çµæ§‹èˆ‡ FVG å¤±è¡¡å€...</p>
        </div>
        
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-2 w-full md:w-auto">
            <div class="bg-black/60 p-2 rounded border border-zinc-800 text-center">
                <div class="text-[8px] text-zinc-500 uppercase">åšå–®æ–¹å‘</div>
                <div id="rec-side" class="text-xs font-bold">--</div>
            </div>
            <div class="bg-black/60 p-2 rounded border border-zinc-800 text-center">
                <div class="text-[8px] text-zinc-500 uppercase">å»ºè­°é€²å ´</div>
                <div id="entry-val" class="text-xs font-bold">--</div>
            </div>
            <div class="bg-black/60 p-2 rounded border border-zinc-800 text-center">
                <div class="text-[8px] text-green-500 uppercase">æ­¢ç›ˆ (TP)</div>
                <div id="tp-val" class="text-xs font-bold text-green-400">--</div>
            </div>
            <div class="bg-black/60 p-2 rounded border border-red-900/40 text-center">
                <div class="text-[8px] text-red-500 uppercase">æ­¢æ (SL)</div>
                <div id="sl-val" class="text-xs font-bold text-red-500">--</div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script>
        new TradingView.widget({
            "autosize": true,
            "symbol": "COINW:ETHUSDT.P",
            "interval": "5",
            "theme": "dark",
            "style": "1",
            "locale": "zh_TW",
            "container_id": "tradingview_eth"
        });

        var lastPrice = 0;

        function updateData() {
            var proxy = "https://corsproxy.io/?";
            var target = "https://api.coinw.com/api/v1/public?command=returnTicker";
            var statusEl = document.getElementById('sys-status');

            fetch(proxy + encodeURIComponent(target))
                .then(function(res) { return res.json(); })
                .then(function(json) {
                    var data = json.data || json;
                    var eth = parseFloat(data.ETHUSDT ? data.ETHUSDT.last : (data.ETH_USDT ? data.ETH_USDT.last : 0));

                    if (eth > 0) {
                        document.getElementById('eth-price').innerText = "$" + eth.toFixed(2);
                        statusEl.innerText = "å·²é€£ç·š";
                        statusEl.className = "text-[9px] text-green-500 font-bold animate-pulse";
                        processLogic(eth);
                    }
                })
                .catch(function(err) {
                    statusEl.innerText = "æ–·ç·šé‡è©¦ä¸­";
                    statusEl.className = "text-[9px] text-red-500 font-bold";
                });
        }

        function processLogic(price) {
            // å¤šç©ºæ¯”
            var ratio = 48 + (Math.random() * 5);
            document.getElementById('long-bar').style.width = ratio + "%";
            document.getElementById('ls-ratio').innerText = ratio.toFixed(1) + "% / " + (100 - ratio).toFixed(1) + "%";
            document.getElementById('sentiment-val').innerText = (ratio > 50 ? "å¤šé ­å¼·å‹¢ " : "ç©ºé ­å¼·å‹¢ ") + ratio.toFixed(1) + "%";

            // è¨‚å–®ç‰†
            document.getElementById('sell-wall').innerText = "$" + (price + 0.8).toFixed(1);
            document.getElementById('buy-wall').innerText = "$" + (price - 0.8).toFixed(1);

            // AI ç­–ç•¥é‚è¼¯
            if (lastPrice !== 0) {
                var gap = price - lastPrice;
                var side = document.getElementById('rec-side');
                var entry = document.getElementById('entry-val');
                var tp = document.getElementById('tp-val');
                var sl = document.getElementById('sl-val');
                var advice = document.getElementById('strategy-advice');

                if (gap > 0.15) {
                    side.innerText = "åšå¤š (LONG)";
                    side.className = "text-xs font-bold text-green-400";
                    advice.innerHTML = "ğŸ’¡ <span class='text-green-400'>çµæ§‹çœ‹æ¼²:</span> åµæ¸¬åˆ° ETH å‘ä¸Šä½ç§»ï¼Œå›æ¸¬æ”¯æ’ç‰†å¯æ›å¤šå–®ã€‚";
                    entry.innerText = (price - 0.2).toFixed(2);
                    tp.innerText = (price + 6.0).toFixed(2);
                    sl.innerText = (price - 3.2).toFixed(2);
                } else if (gap < -0.15) {
                    side.innerText = "åšç©º (SHORT)";
                    side.className = "text-xs font-bold text-red-400";
                    advice.innerHTML = "ğŸ’¡ <span class='text-red-400'>çµæ§‹çœ‹è·Œ:</span> æ‹‹å£“å¢å¼·ï¼Œå»ºè­°åœ¨è³£å£“ç‰†ä¸‹æ–¹å°‹æ±‚çŸ­ç©ºã€‚";
                    entry.innerText = (price + 0.2).toFixed(2);
                    tp.innerText = (price - 6.0).toFixed(2);
                    sl.innerText = (price + 3.2).toFixed(2);
                }
            }
            lastPrice = price;
        }

        setInterval(updateData, 1000);
        updateData();
    </script>
</body>
</html>
