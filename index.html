<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>CoinW 100x AI ç©©å®šçµ‚ç«¯</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.12.1/polyfill.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-gray-200 p-4 font-mono">

    <div class="grid grid-cols-2 gap-4 mb-4">
        <div class="bg-zinc-900 p-4 rounded border-l-4 border-green-500 shadow-lg">
            <div class="text-[10px] text-zinc-500 font-bold uppercase">CoinW BTC/USDT</div>
            <div id="btc-price" class="text-3xl font-bold text-green-400">é€£ç·šä¸­...</div>
        </div>
        <div class="bg-zinc-900 p-4 rounded border-l-4 border-blue-500 shadow-lg">
            <div class="text-[10px] text-zinc-500 font-bold uppercase">ç³»çµ±ç‹€æ…‹</div>
            <div id="sys-status" class="text-sm font-bold text-blue-400">æ­£åœ¨åˆå§‹åŒ–...</div>
        </div>
    </div>

    <div class="bg-zinc-900 p-4 rounded border border-zinc-800 mb-4 h-48 flex flex-col">
        <h3 class="text-xs font-bold text-yellow-500 mb-2 uppercase border-b border-zinc-800 pb-1">Smart Money SMC å¯¦æ™‚ç›£æ§</h3>
        <div id="smc-logs" class="flex-1 overflow-y-auto text-[11px] text-zinc-400 space-y-1">
            ç­‰å¾…æ•¸æ“šæµå…¥åˆ†æ FVG èˆ‡ çµæ§‹çªç ´...
        </div>
    </div>

    <div class="bg-blue-950/20 border border-blue-500/30 p-6 rounded-lg text-center shadow-xl">
        <h2 class="text-lg font-bold text-blue-400 mb-2 italic">ğŸ¤– AI 100x ç­–ç•¥æ±ºç­–</h2>
        <p id="ai-advice" class="text-sm text-blue-100">æ­£åœ¨åˆ†æç›¤å£æ•¸æ“šèˆ‡å¤±è¡¡å€é–“...</p>
        <div id="liq-range" class="mt-4 text-[10px] text-red-400 font-mono opacity-80"></div>
    </div>

    <script>
        var lastPrice = 0;
        var historyPrices = [];

        function updateMarket() {
            var btcEl = document.getElementById('btc-price');
            var statusEl = document.getElementById('sys-status');
            var logEl = document.getElementById('smc-logs');
            var adviceEl = document.getElementById('ai-advice');
            var liqEl = document.getElementById('liq-range');

            // CoinW å…¬é–‹ API èˆ‡ ä»£ç†
            var proxy = "https://corsproxy.io/?";
            var target = "https://api.coinw.com/api/v1/public?command=returnTicker";

            statusEl.innerText = "æ­£åœ¨æ›´æ–°æ•¸æ“š...";

            fetch(proxy + encodeURIComponent(target))
                .then(function(res) { return res.json(); })
                .then(function(json) {
                    var data = json.data || json;
                    // ç›¸å®¹ CoinW ä¸åŒæ™‚æœŸçš„ API å›å‚³çµæ§‹
                    var btc = parseFloat(data.BTCUSDT ? data.BTCUSDT.last : (data.BTC_USDT ? data.BTC_USDT.last : 0));

                    if (btc > 0) {
                        btcEl.innerText = "$" + btc.toFixed(2);
                        statusEl.innerText = "æ•¸æ“šåŒæ­¥æˆåŠŸ (" + new Date().toLocaleTimeString() + ")";

                        // SMC / FVG æŒ‡æ¨™è¨ˆç®—é‚è¼¯
                        if (lastPrice !== 0) {
                            var gap = btc - lastPrice;
                            if (Math.abs(gap) > 10) {
                                var type = gap > 0 ? "BULLISH FVG" : "BEARISH FVG";
                                var color = gap > 0 ? "text-green-400" : "text-red-400";
                                
                                // æ›´æ–°æ—¥èªŒ
                                var logMsg = '<div class="border-b border-zinc-800 pb-1">[' + new Date().toLocaleTimeString() + '] <span class="' + color + ' font-bold">' + type + '</span> ä½ç§»: ' + gap.toFixed(2) + '</div>';
                                logEl.innerHTML = logMsg + logEl.innerHTML;

                                // æ›´æ–° AI å»ºè­°
                                adviceEl.innerHTML = "åµæ¸¬åˆ° <b>" + type + "</b>ã€‚100x å»ºè­°åœ¨ $" + (btc - (gap * 0.4)).toFixed(2) + " é™„è¿‘æ›å–®ã€‚";
                            }
                        }
                        
                        // è¨ˆç®— 100x å¼·å¹³å€é–“
                        liqEl.innerText = "[100x é ä¼°çˆ†å€‰ä½] å¤šå–®: $" + (btc * 0.992).toFixed(2) + " | ç©ºå–®: $" + (btc * 1.008).toFixed(2);
                        lastPrice = btc;
                    }
                })
                .catch(function(err) {
                    statusEl.innerText = "é€£ç·šå¤±æ•—: ä»£ç†ä¼ºæœå™¨éè¼‰";
                    console.error(err);
                });
        }

        // å•Ÿå‹• 2 ç§’æ›´æ–° (2000 æ¯«ç§’)
        setInterval(updateMarket, 10);
        updateMarket();
    </script>
</body>
</html>
