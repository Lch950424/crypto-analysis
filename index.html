<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>CoinW 100x AI æˆ°ç•¥çµ‚ç«¯ - ä¿®å¾©ç‰ˆ</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.12.1/polyfill.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-gray-200 p-4 font-mono">

    <div class="bg-zinc-900 p-4 rounded-lg border border-zinc-800 mb-4">
        <h1 class="text-xl font-bold text-yellow-500">ğŸ¤– AI SMC ç­–ç•¥æ±ºç­–ç³»çµ±</h1>
        <p id="api-status" class="text-[10px] text-zinc-500 mt-1">ç‹€æ…‹ï¼šç­‰å¾…ç³»çµ±å•Ÿå‹•...</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="bg-zinc-900 p-6 rounded-lg border-l-4 border-green-500">
            <div class="text-[10px] text-zinc-500">COINW BTC/USDT</div>
            <div id="btc-price" class="text-4xl font-bold text-green-400">è¼‰å…¥ä¸­...</div>
        </div>
        <div class="bg-zinc-900 p-4 rounded-lg border border-zinc-800 overflow-hidden">
            <h3 class="text-[10px] font-bold text-purple-400 mb-2 uppercase">SMC åˆ†ææ—¥èªŒ (10S æ›´æ–°)</h3>
            <div id="smc-log" class="text-[10px] text-zinc-500 h-20 overflow-y-auto">ç­‰å¾…æ•¸æ“š...</div>
        </div>
    </div>

    <div id="strategy-card" class="mt-4 bg-blue-900/10 border border-blue-500/30 p-6 rounded-lg text-center">
        <p id="strategy-advice" class="text-sm text-blue-100 italic">ç³»çµ±æ­£åœ¨å˜—è©¦é€éä»£ç†ä¼ºæœå™¨ç²å–åƒ¹æ ¼...</p>
    </div>

    <script>
        var lastPrice = 0;

        // ä½¿ç”¨å‚³çµ±çš„ .then èªæ³•ä»¥å¢åŠ ç©©å®šæ€§
        function updateData() {
            var status = document.getElementById('api-status');
            var priceEl = document.getElementById('btc-price');
            var logEl = document.getElementById('smc-log');
            var adviceEl = document.getElementById('strategy-advice');

            var target = "https://api.coinw.com/api/v1/public?command=returnTicker";
            var proxy = "https://corsproxy.io/?";

            status.innerText = "ç‹€æ…‹ï¼šæ­£åœ¨ç²å–æœ€æ–°æ•¸æ“š...";

            fetch(proxy + encodeURIComponent(target))
                .then(function(response) { return response.json(); })
                .then(function(json) {
                    var data = json.data || json;
                    var btc = parseFloat(data.BTCUSDT ? data.BTCUSDT.last : (data.BTC_USDT ? data.BTC_USDT.last : 0));

                    if (btc > 0) {
                        priceEl.innerText = "$" + btc.toFixed(2);
                        status.innerText = "ç‹€æ…‹ï¼šæ•¸æ“šåŒæ­¥æˆåŠŸ (" + new Date().toLocaleTimeString() + ")";

                        var gap = btc - lastPrice;
                        if (lastPrice !== 0 && Math.abs(gap) > 10) {
                            var type = gap > 0 ? "BULLISH FVG" : "BEARISH FVG";
                            logEl.innerHTML = "<div>[" + new Date().toLocaleTimeString() + "] " + type + " (ä½ç§» " + gap.toFixed(2) + ")</div>" + logEl.innerHTML;
                            adviceEl.innerHTML = "AI å»ºè­°ï¼šåµæ¸¬åˆ° <b>" + type + "</b>ã€‚100x å»ºè­°åœ¨ $" + (btc - (gap * 0.4)).toFixed(2) + " é™„è¿‘æ›å–®ã€‚";
                        }
                        lastPrice = btc;
                    }
                })
                .catch(function(err) {
                    status.innerText = "ç‹€æ…‹ï¼šé€£ç·šå‡ºéŒ¯ - " + err.message;
                    adviceEl.innerText = "ä»£ç†ä¼ºæœå™¨å¯èƒ½éè¼‰ï¼Œè«‹ç¨å€™ 10 ç§’ç³»çµ±æœƒè‡ªå‹•é‡é€£ã€‚";
                });
        }

        // å•Ÿå‹• 10 ç§’æ›´æ–°
        setInterval(updateData, 10);
        updateData();
    </script>
</body>
</html>
