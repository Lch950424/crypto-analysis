<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>ETH 100x çµ‚æ¥µç©©å®šçµ‚ç«¯</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.12.1/polyfill.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-gray-200 p-2 font-mono flex flex-col h-screen overflow-hidden">

    <div class="grid grid-cols-1 md:grid-cols-3 gap-2 mb-2">
        <div class="bg-zinc-900 p-4 rounded border-l-4 border-blue-500">
            <div class="text-[10px] text-zinc-500 font-bold uppercase">ETH å³æ™‚åƒ¹æ ¼ (CoinW)</div>
            <div id="eth-price" class="text-3xl font-bold text-blue-400">é€£ç·šä¸­...</div>
            <div id="sys-status" class="text-[9px] text-zinc-600 mt-1 uppercase italic">æ­£åœ¨åˆå§‹åŒ–æ•¸æ“šæº...</div>
        </div>
        
        <div class="bg-zinc-900 p-4 rounded border border-zinc-800">
            <div class="flex justify-between text-[10px] mb-1 font-bold">
                <span class="text-green-500">å¤šé ­</span>
                <span id="ls-ratio">50/50</span>
                <span class="text-red-500">ç©ºé ­</span>
            </div>
            <div class="w-full bg-zinc-800 h-2 rounded-full overflow-hidden flex">
                <div id="long-bar" class="bg-green-500 h-full transition-all duration-1000" style="width: 50%"></div>
            </div>
            <div class="text-[9px] text-zinc-500 mt-1 text-center font-bold uppercase tracking-widest">å¸‚å ´æƒ…ç·’åŠ›é“</div>
        </div>

        <div class="bg-zinc-900 p-4 rounded border border-zinc-800 flex items-center justify-around">
            <div class="text-center">
                <div class="text-[9px] text-zinc-500 uppercase">è³‡é‡‘è²»ç‡</div>
                <div class="text-xs font-bold text-yellow-500">0.0100%</div>
            </div>
            <div class="text-center">
                <div class="text-[9px] text-zinc-500 uppercase">100x é¢¨éšª</div>
                <div id="risk-level" class="text-xs font-bold text-green-500">ä½</div>
            </div>
        </div>
    </div>

    <div class="flex-1 grid grid-cols-1 lg:grid-cols-4 gap-2 min-h-0 mb-2">
        <div class="lg:col-span-3 bg-zinc-950 rounded overflow-hidden border border-zinc-800">
            <div id="tradingview_eth" class="h-full"></div>
        </div>

        <div class="bg-zinc-900 p-3 rounded border border-zinc-800 flex flex-col overflow-hidden">
            <h3 class="text-[10px] font-bold text-red-500 mb-2 flex items-center gap-1">
                <span class="animate-pulse w-1.5 h-1.5 bg-red-500 rounded-full"></span> å¯¦æ™‚æ¸…ç®—èˆ‡æ—¥èªŒ
            </h3>
            <div id="liq-logs" class="text-[9px] font-mono text-zinc-500 space-y-2 overflow-y-auto flex-1">
                æ­£åœ¨æƒæ 100x çˆ†å€‰ä¿¡è™Ÿ...
            </div>
        </div>
    </div>

    <div class="bg-blue-950/20 border border-blue-500/30 p-4 rounded-lg shadow-xl flex flex-col md:flex-row gap-4 items-center">
        <div class="flex-1 text-center md:text-left">
            <h2 class="text-xs font-bold text-blue-400 mb-1 flex items-center gap-2">
                <span class="bg-blue-500 text-black px-1 rounded text-[8px]">AI SMC</span> ä¹™å¤ªå¹£ 100x äº¤æ˜“ç­–ç•¥
            </h2>
            <p id="strategy-advice" class="text-[11px] text-blue-100 italic">æ­£åœ¨ç²å–æ•¸æ“šé€²è¡Œ SMC çµæ§‹åˆ†æ...</p>
        </div>
        
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-2 w-full md:w-auto">
            <div class="bg-black/60 p-2 rounded border border-zinc-800 text-center">
                <div class="text-[8px] text-zinc-500 uppercase">æ–¹å‘</div>
                <div id="rec-side" class="text-xs font-bold text-white uppercase">--</div>
            </div>
            <div class="bg-black/60 p-2 rounded border border-zinc-800 text-center">
                <div class="text-[8px] text-zinc-500 uppercase">å»ºè­°é€²å ´</div>
                <div id="entry-val" class="text-xs font-bold text-white">--</div>
            </div>
            <div id="tp-card" class="bg-black/60 p-2 rounded border border-zinc-800 text-center">
                <div class="text-[8px] text-green-500 uppercase">æ­¢ç›ˆ (TP)</div>
                <div id="tp-val" class="text-xs font-bold text-green-400">--</div>
            </div>
            <div id="sl-card" class="bg-black/60 p-2 rounded border border-zinc-800 text-center border-red-900/40">
                <div class="text-[8px] text-red-500 uppercase">å¼·åˆ¶æ­¢æ (SL)</div>
                <div id="sl-val" class="text-xs font-bold text-red-500">--</div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script>
        // 1. åˆå§‹åŒ– TradingView
        new TradingView.widget({
            "autosize": true,
            "symbol": "COINW:ETHUSDT.P",
            "interval": "5",
            "theme": "dark",
            "style": "1",
            "locale": "zh_TW",
            "container_id": "tradingview_eth"
        });

        var lastPrice = 0;

        function updateMarket() {
            var statusEl = document.getElementById('sys-status');
            var priceEl = document.getElementById('eth-price');
            
            // ä½¿ç”¨æ›´ç©©å®šçš„å¤šé‡ä»£ç†
            var proxy = "https://corsproxy.io/?";
            var target = "https://api.coinw.com/api/v1/public?command=returnTicker";

            fetch(proxy + encodeURIComponent(target))
                .then(function(res) { return res.json(); })
                .then(function(json) {
                    var data = json.data || json;
                    var eth = parseFloat(data.ETHUSDT ? data.ETHUSDT.last : (data.ETH_USDT ? data.ETH_USDT.last : 0));

                    if (eth > 0) {
                        priceEl.innerText = "$" + eth.toFixed(2);
                        statusEl.innerText = "æ•¸æ“šåŒæ­¥ä¸­ (" + new Date().toLocaleTimeString() + ")";
                        statusEl.className = "text-[9px] text-green-500 mt-1 uppercase italic";
                        processTradeLogic(eth);
                    }
                })
                .catch(function(err) {
                    statusEl.innerText = "é€£ç·šè¶…æ™‚ï¼Œå˜—è©¦é‡é€£ä¸­...";
                    statusEl.className = "text-[9px] text-red-500 mt-1 uppercase italic";
                });
        }

        function processTradeLogic(price) {
            // A. æƒ…ç·’æ¯”ä¾‹æ¨¡æ“¬
            var ratio = 48 + (Math.random() * 4);
            document.getElementById('long-bar').style.width = ratio + "%";
            document.getElementById('ls-ratio').innerText = ratio.toFixed(1) + "% / " + (100-ratio).toFixed(1) + "%";

            // B. æ¨¡æ“¬çˆ†å€‰æ—¥èªŒ
            if (Math.random() > 0.7) {
                var liqLogs = document.getElementById('liq-logs');
                var side = Math.random() > 0.5 ? "å¤šå–®" : "ç©ºå–®";
                var amt = (Math.random() * 10 + 1).toFixed(1);
                var log = '<div class="' + (side === 'å¤šå–®' ? 'text-red-400' : 'text-green-400') + '">[' + new Date().toLocaleTimeString() + '] ' + side + 'çˆ†å€‰: $' + amt + 'K</div>';
                liqLogs.innerHTML = log + liqLogs.innerHTML;
            }

            // C. AI æ ¸å¿ƒæ±ºç­–
            if (lastPrice !== 0) {
                var gap = price - lastPrice;
                var sideEl = document.getElementById('rec-side');
                var entryEl = document.getElementById('entry-val');
                var tpEl = document.getElementById('tp-val');
                var slEl = document.getElementById('sl-val');
                var adviceEl = document.getElementById('strategy-advice');

                if (Math.abs(gap) > 0.1) {
                    var isLong = gap > 0;
                    sideEl.innerText = isLong ? "åšå¤š (LONG)" : "åšç©º (SHORT)";
                    sideEl.className = isLong ? "text-xs font-bold text-green-400" : "text-xs font-bold text-red-400";
                    
                    adviceEl.innerHTML = isLong ? "ğŸš€ <span class='text-green-400'>çœ‹æ¼²ä¿¡è™Ÿ:</span> åµæ¸¬åˆ°åƒ¹æ ¼ä½ç§»ï¼Œå»ºè­°å›æ¸¬é€²å ´ã€‚" : "âš ï¸ <span class='text-red-400'>çœ‹è·Œä¿¡è™Ÿ:</span> æ‹‹å£“å¢å¼·ï¼Œå»ºè­°åå½ˆç©ºã€‚";
                    
                    entryEl.innerText = (price - (gap * 0.2)).toFixed(2);
                    tpEl.innerText = (price + (isLong ? 5.0 : -5.0)).toFixed(2);
                    slEl.innerText = (price * (isLong ? 0.993 : 1.007)).toFixed(2);
                }
            }
            lastPrice = price;
        }

        // å•Ÿå‹• 10 ç§’æ›´æ–°
        setInterval(updateMarket, 1000);
        updateMarket();
    </script>
</body>
</html>
