<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>CoinW 100x AI æ±ºç­–çµ‚ç«¯</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.12.1/polyfill.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-gray-200 p-4 font-mono flex flex-col min-h-screen">

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
        <div class="bg-zinc-900 p-4 rounded-lg border border-zinc-800">
            <h3 class="text-xs text-zinc-500 uppercase">CoinW BTC åƒ¹æ ¼</h3>
            <div id="btc-price" class="text-3xl font-bold text-green-400">--.00</div>
        </div>
        <div class="bg-zinc-900 p-4 rounded-lg border border-zinc-800 text-center">
            <h3 class="text-xs text-zinc-500 uppercase">AI å¤šç©ºåŠ›é“æ¯”</h3>
            <div class="flex items-center justify-center gap-2 mt-1">
                <span class="text-red-500 text-xs">ç©º</span>
                <div class="w-full bg-zinc-800 h-2 rounded-full overflow-hidden">
                    <div id="sentiment-bar" class="bg-green-500 h-full transition-all duration-500" style="width: 50%"></div>
                </div>
                <span class="text-green-500 text-xs">å¤š</span>
            </div>
            <div id="sentiment-val" class="text-[10px] mt-1 text-zinc-400">ä¸­æ€§ 50%</div>
        </div>
        <div class="bg-zinc-900 p-4 rounded-lg border border-zinc-800">
            <h3 class="text-xs text-zinc-500 uppercase">ç³»çµ±æ—¥èªŒ</h3>
            <div id="smc-log" class="text-[9px] h-8 overflow-y-auto text-zinc-600">ç­‰å¾…åˆ†ææ•¸æ“š...</div>
        </div>
    </div>

    <div id="alert-panel" class="bg-zinc-900 border border-zinc-800 p-6 rounded-xl shadow-2xl">
        <div class="flex items-center gap-2 mb-4 justify-center">
            <span class="animate-ping inline-flex h-2 w-2 rounded-full bg-blue-400 opacity-75"></span>
            <h2 class="text-xl font-bold text-blue-400 italic">ğŸ¤– AI 100x SMC ç­–ç•¥æ ¸å¿ƒ</h2>
        </div>
        
        <div class="space-y-4">
            <div class="p-4 bg-black/40 rounded border border-zinc-700">
                <div class="text-[10px] text-zinc-500 mb-1 uppercase tracking-widest">ç•¶å‰ç­–ç•¥æ–¹å‘</div>
                <div id="strategy-advice" class="text-lg font-bold text-white italic">æ­£åœ¨æƒæå¸‚å ´ç¼ºå£...</div>
            </div>

            <div class="grid grid-cols-2 gap-4">
                <div class="p-3 bg-zinc-800/50 rounded">
                    <div class="text-[10px] text-green-500 uppercase">å»ºè­°é€²å ´ (å¤š/ç©º)</div>
                    <div id="entry-val" class="text-xl font-bold">--</div>
                </div>
                <div class="p-3 bg-zinc-800/50 rounded">
                    <div class="text-[10px] text-red-500 uppercase">100x æ­¢æ/å¼·å¹³åƒè€ƒ</div>
                    <div id="sl-val" class="text-xl font-bold">--</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        var lastPrice = 0;

        function updateData() {
            var proxy = "https://corsproxy.io/?";
            var target = "https://api.coinw.com/api/v1/public?command=returnTicker";

            fetch(proxy + encodeURIComponent(target))
                .then(function(res) { return res.json(); })
                .then(function(json) {
                    var data = json.data || json;
                    var btc = parseFloat(data.BTCUSDT ? data.BTCUSDT.last : (data.BTC_USDT ? data.BTC_USDT.last : 0));

                    if (btc > 0) {
                        document.getElementById('btc-price').innerText = btc.toFixed(2);
                        processAI(btc);
                    }
                });
        }

        function processAI(price) {
            var score = 50; // åˆå§‹ä¸­æ€§åˆ†
            var advice = "";
            var logEl = document.getElementById('smc-log');
            
            if (lastPrice !== 0) {
                var gap = price - lastPrice;
                
                // 1. FVG æª¢æ¸¬é‚è¼¯ (æ¬Šé‡ 40%)
                if (gap > 15) {
                    score += 30;
                    advice = "ğŸš€ åµæ¸¬åˆ° BULLISH FVGã€‚çµæ§‹å¼·å‹ï¼Œå»ºè­°å›æ¸¬é€²å¤šã€‚";
                    logEl.innerHTML = "<div>[" + new Date().toLocaleTimeString() + "] çµæ§‹çœ‹æ¼²çªç ´</div>" + logEl.innerHTML;
                } else if (gap < -15) {
                    score -= 30;
                    advice = "âš ï¸ åµæ¸¬åˆ° BEARISH FVGã€‚ä¸»åŠ›æ‹‹å”®ï¼Œå»ºè­°åå½ˆæ”¾ç©ºã€‚";
                    logEl.innerHTML = "<div>[" + new Date().toLocaleTimeString() + "] çµæ§‹çœ‹è·Œçªç ´</div>" + logEl.innerHTML;
                } else {
                    advice = "å¸‚å ´éœ‡ç›ªã€‚100x å»ºè­°åœ¨æ¸…ç®—ä½é™„è¿‘é«˜æ‹‹ä½å¸ã€‚";
                }

                // æ›´æ–°å„€è¡¨æ¿
                document.getElementById('sentiment-bar').style.width = score + "%";
                document.getElementById('sentiment-val').innerText = (score > 50 ? "çœ‹å¤š " : "çœ‹ç©º ") + score + "%";
                document.getElementById('strategy-advice').innerText = advice;
                
                // æ›´æ–°å»ºè­°åƒ¹æ ¼
                var entry = score > 50 ? (price - 10).toFixed(2) : (price + 10).toFixed(2);
                var sl = score > 50 ? (price * 0.993).toFixed(2) : (price * 1.007).toFixed(2);
                
                document.getElementById('entry-val').innerText = entry;
                document.getElementById('entry-val').className = score > 50 ? "text-xl font-bold text-green-400" : "text-xl font-bold text-red-400";
                document.getElementById('sl-val').innerText = sl;
            }
            lastPrice = price;
        }

        setInterval(updateData, 10000); // 10ç§’æ›´æ–°
        updateData();
    </script>
</body>
</html>
