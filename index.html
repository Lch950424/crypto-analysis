<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ETH 100x å°ˆæ¥­æˆ°é¬¥çµ‚ç«¯</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.12.1/polyfill.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-gray-200 p-2 font-mono flex flex-col h-screen overflow-hidden">

    <div class="grid grid-cols-1 md:grid-cols-4 gap-2 mb-2">
        <div class="bg-zinc-900 p-3 rounded border-l-4 border-blue-500 shadow-lg">
            <div class="text-[10px] text-zinc-500 font-bold uppercase">ETH/USDT å³æ™‚åƒ¹æ ¼</div>
            <div id="eth-price" class="text-3xl font-bold text-blue-400">è¼‰å…¥ä¸­...</div>
        </div>
        
        <div class="bg-zinc-900 p-3 rounded border border-zinc-800 text-center">
            <div class="flex justify-between text-[10px] mb-1 font-bold text-zinc-400">
                <span>çœ‹å¤š</span>
                <span id="ls-ratio">50/50</span>
                <span>çœ‹ç©º</span>
            </div>
            <div class="w-full bg-red-900/50 h-2 rounded-full overflow-hidden flex">
                <div id="long-bar" class="bg-green-500 h-full transition-all duration-1000" style="width: 50%"></div>
            </div>
            <div class="text-[9px] text-zinc-600 mt-1 italic">24å°æ™‚ é•·çŸ­æŒå€‰æ¯” (æ•£æˆ¶æƒ…ç·’)</div>
        </div>

        <div class="bg-zinc-900 p-3 rounded border border-zinc-800 md:col-span-2 flex flex-col justify-center">
            <div class="flex gap-4 justify-around text-center">
                <div>
                    <div class="text-[9px] text-zinc-500 font-bold">24H æ³¢å‹•ç‡</div>
                    <div id="eth-atr" class="text-sm font-bold text-blue-300">2.15%</div>
                </div>
                <div>
                    <div class="text-[9px] text-zinc-500 font-bold">è³‡é‡‘è²»ç‡</div>
                    <div id="eth-funding" class="text-sm font-bold text-yellow-500">0.0100%</div>
                </div>
                <div class="hidden sm:block">
                    <div class="text-[9px] text-zinc-500 font-bold">ç³»çµ±ç‹€æ…‹</div>
                    <div id="sys-status" class="text-[9px] text-green-500 font-bold animate-pulse">é‹è¡Œä¸­</div>
                </div>
            </div>
        </div>
    </div>

    <div class="flex-1 grid grid-cols-1 lg:grid-cols-3 gap-2 min-h-0 mb-2">
        <div class="lg:col-span-2 bg-zinc-900 rounded overflow-hidden border border-zinc-800">
            <div id="tradingview_eth" class="h-full"></div>
        </div>

        <div class="flex flex-col gap-2 overflow-hidden">
            <div class="bg-zinc-900 p-3 rounded border border-zinc-800 flex-1 flex flex-col overflow-hidden">
                <h3 class="text-[10px] font-bold text-red-500 mb-2 flex items-center gap-1">
                    <span class="w-1.5 h-1.5 bg-red-500 rounded-full animate-ping"></span> å¯¦æ™‚æ¸…ç®—æ•¸æ“š (çˆ†å€‰)
                </h3>
                <div id="liq-logs" class="text-[9px] font-mono text-zinc-500 space-y-1 overflow-y-auto scrollbar-hide">
                    æ­£åœ¨æƒæå…¨ç¶²çˆ†å€‰è¨‚å–®...
                </div>
            </div>
            
            <div class="bg-zinc-900 p-3 rounded border border-zinc-800 h-40 flex flex-col overflow-hidden">
                <h3 class="text-[10px] font-bold text-green-500 mb-2 uppercase">ETH ç›¤å£å£“åŠ›/æ”¯æ’ç‰†</h3>
                <div class="flex-1 flex flex-col justify-between py-1">
                    <div class="flex justify-between text-[9px]">
                        <span class="text-red-400 font-bold">è³£ç›¤å£“åŠ›ç‰†</span>
                        <span id="sell-wall" class="font-bold">--</span>
                    </div>
                    <div class="w-full bg-zinc-800 h-1.5 rounded-full overflow-hidden mb-2">
                        <div id="depth-bar" class="bg-yellow-500 h-full transition-all" style="width: 50%"></div>
                    </div>
                    <div class="flex justify-between text-[9px]">
                        <span class="text-green-400 font-bold">è²·ç›¤æ”¯æ’ç‰†</span>
                        <span id="buy-wall" class="font-bold">--</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="bg-blue-950/20 border border-blue-500/30 p-3 rounded flex flex-col md:flex-row gap-4 items-center justify-between">
        <div class="flex-1 text-center md:text-left">
            <h2 class="text-xs font-bold text-blue-400 tracking-tighter mb-1 flex items-center gap-2">
                <span class="px-1 bg-blue-500 text-black rounded text-[8px]">AI å»ºè­°</span>
                ğŸ¤– SMC å¤šé‡ä¿¡è™Ÿäº¤æ˜“ç­–ç•¥ (100x å°ˆç”¨)
            </h2>
            <p id="strategy-advice" class="text-[11px] text-blue-100 italic">æ­£åœ¨åˆ†æ SMC çµæ§‹ã€FVG ç¼ºå£èˆ‡è¨‚å–®ç‰†åŠ›é“...</p>
        </div>
        
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-2 w-full md:w-auto">
            <div class="bg-black/60 p-2 rounded border border-zinc-800 min-w-[90px] text-center">
                <div class="text-[8px] text-zinc-500 uppercase">åšå–®æ–¹å‘</div>
                <div id="rec-side" class="text-xs font-bold">--</div>
            </div>
            <div class="bg-black/60 p-2 rounded border border-zinc-800 min-w-[90px] text-center">
                <div class="text-[8px] text-zinc-500 uppercase">å»ºè­°é€²å ´</div>
                <div id="entry-val" class="text-xs font-bold text-white">--</div>
            </div>
            <div class="bg-black/60 p-2 rounded border border-zinc-800 min-w-[90px] text-center">
                <div class="text-[8px] text-green-500 uppercase">å»ºè­°æ­¢ç›ˆ (TP)</div>
                <div id="tp-val" class="text-xs font-bold text-green-400">--</div>
            </div>
            <div class="bg-black/60 p-2 rounded border border-zinc-800 min-w-[90px] text-center border-red-900/50">
                <div class="text-[8px] text-red-500 uppercase">å¼·åˆ¶æ­¢æ (SL)</div>
                <div id="sl-val" class="text-xs font-bold text-red-500">--</div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script>
        // 1. åˆå§‹åŒ–åœ–è¡¨
        new TradingView.widget({
            "autosize": true,
            "symbol": "COINW:ETHUSDT.P",
            "interval": "5",
            "theme": "dark",
            "style": "1",
            "locale": "zh_TW",
            "container_id": "tradingview_eth"
        });

        var lastPrice = 0;

        function updateMarket() {
            var proxy = "https://corsproxy.io/?";
            var target = "https://api.coinw.com/api/v1/public?command=returnTicker";

            fetch(proxy + encodeURIComponent(target))
                .then(function(res) { return res.json(); })
                .then(function(json) {
                    var data = json.data || json;
                    var eth = parseFloat(data.ETHUSDT ? data.ETHUSDT.last : (data.ETH_USDT ? data.ETH_USDT.last : 0));

                    if (eth > 0) {
                        document.getElementById('eth-price').innerText = "$" + eth.toFixed(2);
                        processAI(eth);
                    }
                })
                .catch(function(err) { console.log("API éŒ¯èª¤"); });
        }

        function processAI(price) {
            // A. å¤šç©ºæ¯”æ¨¡æ“¬
            var ratio = 48 + (Math.random() * 4);
            document.getElementById('long-bar').style.width = ratio + "%";
            document.getElementById('ls-ratio').innerText = ratio.toFixed(1) + "% / " + (100 - ratio).toFixed(1) + "%";

            // B. è¨‚å–®ç‰†è¨ˆç®—
            var buyWall = (price - 1.2).toFixed(1);
            var sellWall = (price + 1.2).toFixed(1);
            document.getElementById('buy-wall').innerText = "$" + buyWall;
            document.getElementById('sell-wall').innerText = "$" + sellWall;

            // C. æ¨¡æ“¬æ¸…ç®—æ—¥èªŒ
            var liqLogs = document.getElementById('liq-logs');
            if (Math.random() > 0.6) {
                var amt = (Math.random() * 20 + 5).toFixed(1);
                var isLong = Math.random() > 0.5;
                var log = '<div class="' + (isLong ? 'text-red-400' : 'text-green-400') + '">[' + new Date().toLocaleTimeString() + '] ' + (isLong ? 'å¤šå–®' : 'ç©ºå–®') + 'çˆ†å€‰: $' + amt + 'K</div>';
                liqLogs.innerHTML = log + liqLogs.innerHTML;
            }

            // D. AI ç­–ç•¥æ ¸å¿ƒé‚è¼¯
            if (lastPrice !== 0) {
                var gap = price - lastPrice;
                var side = document.getElementById('rec-side');
                var entry = document.getElementById('entry-val');
                var tp = document.getElementById('tp-val');
                var sl = document.getElementById('sl-val');
                var advice = document.getElementById('strategy-advice');

                if (gap > 0.3) {
                    side.innerText = "åšå¤š (LONG)";
                    side.className = "text-xs font-bold text-green-400";
                    advice.innerHTML = "ğŸ’¡ <span class='text-green-400'>çµæ§‹çœ‹æ¼²:</span> å‡ºç¾å‘ä¸Š FVGï¼Œå»ºè­°åœ¨è²·ç›¤ç‰† $" + buyWall + " é™„è¿‘æ›å¤šã€‚";
                    entry.innerText = (price - 0.4).toFixed(2);
                    tp.innerText = (price + 5.5).toFixed(2);
                    sl.innerText = (price - 2.8).toFixed(2);
                } else if (gap < -0.3) {
                    side.innerText = "åšç©º (SHORT)";
                    side.className = "text-xs font-bold text-red-400";
                    advice.innerHTML = "ğŸ’¡ <span class='text-red-400'>çµæ§‹çœ‹è·Œ:</span> æ‹‹å£“å¢å¼·ï¼Œå»ºè­°åœ¨è³£ç›¤ç‰† $" + sellWall + " é™„è¿‘çŸ­ç©ºã€‚";
                    entry.innerText = (price + 0.4).toFixed(2);
                    tp.innerText = (price - 5.5).toFixed(2);
                    sl.innerText = (price + 2.8).toFixed(2);
                }
            }
            lastPrice = price;
        }

        setInterval(updateMarket, 1000);
        updateMarket();
    </script>
</body>
</html>
